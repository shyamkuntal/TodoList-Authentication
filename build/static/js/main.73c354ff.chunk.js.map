{"version":3,"sources":["components/Nav/index.jsx","components/Auth/index.jsx","pages/AuthPage.js","components/TodoListApp/TaskAdder.jsx","components/TodoListApp/Todo.jsx","components/TodoListApp/TodoList.jsx","components/TodoListApp/index.jsx","pages/TodoListPage.js","pages/HomePage.js","ProtectedRoute.js","App.js","index.js"],"names":["Nav","isAuthenticated","logoutHandler","username","to","onClick","className","Auth","authHandler","useState","loginFormShow","setLoginFormShow","cookies","Cookies","loginHandler","event","a","preventDefault","loginData","target","value","password","axios","post","response","set","data","token","alert","message","signupHandler","signupData","email","onSubmit","placeholder","type","AuthPage","TaskAdder","todos","setSelectedOption","setTodos","selectedFilter","taskInput","setTaskInput","onFormSubmit","name","TodoText","isChecked","headers","Authorization","addingTodoData","console","log","_id","action","onChange","e","Todo","todo","deleteHandler","delete","deleteTodoData","filter","el","completeHandler","patch","completeTodoData","map","task","TodoList","filteredTodos","TodoListApp","setUsername","setFilteredTodos","selectedOption","get","useEffect","userData","doc","getTodos","getUserData","userTodos","filterOptionHandler","TodoListPage","HomePage","href","ProtectedReact","children","auth","App","setIsAuthenticated","cookie","remove","path","exact","component","ProtectedRoute","ReactDOM","render","StrictMode","document","querySelector"],"mappings":";gTAuCeA,EAnCH,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,gBAAiBC,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,SAC7C,OACE,8BACE,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAG,IAAT,0BAEDH,EACC,qCACE,6BACE,eAAC,IAAD,CAAMI,QAASH,EAAeE,GAAG,QAAjC,UACG,IADH,eAKF,6BACE,cAAC,IAAD,CAAMA,GAAG,YAAT,+BAIJ,6BACE,cAAC,IAAD,CAAMA,GAAG,QAAT,gCAGHH,EACC,qBAAIK,UAAU,UAAd,UACG,IADH,QAEO,uBAAMA,UAAU,WAAhB,cAA6BH,KAAiB,OAEnD,W,wDC0EGI,EArGF,SAAC,GAAoC,IAAnCN,EAAkC,EAAlCA,gBAAiBO,EAAiB,EAAjBA,YAAiB,EAELC,oBAAS,GAFJ,mBAExCC,EAFwC,KAEzBC,EAFyB,KAIzCC,EAAU,IAAIC,IAEdC,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACnBD,EAAME,iBACAC,EAAY,CAChBf,SAAUY,EAAMI,OAAO,GAAGC,MAC1BC,SAAUN,EAAMI,OAAO,GAAGC,OAJT,kBAOME,IAAMC,KAC3B,4CACAL,GATe,OAOXM,EAPW,OAWjBZ,EAAQa,IAAI,QAASD,EAASE,KAAKC,OACnCnB,IAZiB,2EAcVoB,MAAM,KAAMJ,SAASE,KAAKG,UAdhB,0DAAH,sDAkBZC,EAAa,uCAAG,WAAOf,GAAP,iBAAAC,EAAA,6DACpBD,EAAME,iBACAc,EAAa,CACjB5B,SAAUY,EAAMI,OAAO,GAAGC,MAC1BY,MAAOjB,EAAMI,OAAO,GAAGC,MACvBC,SAAUN,EAAMI,OAAO,GAAGC,OALR,kBAQKE,IAAMC,KAC3B,6CACAQ,GAVgB,OAQZP,EARY,OAYlBZ,EAAQa,IAAI,QAASD,EAASE,KAAKC,OACnCnB,IAbkB,2EAeXoB,MAAM,KAAMJ,SAASE,KAAKG,UAff,0DAAH,sDAoBjB,OAAI5B,EACK,cAAC,IAAD,CAAUG,GAAG,cAGtB,sBAAKE,UAAU,OAAf,UACE,oBAAIA,UAAU,QAAd,+BACA,sBAAKA,UAAU,iBAAf,UACE,sBAAKA,UAAU,SAAf,UACE,oBACEA,UAAWI,EAAgB,SAAW,GACtCL,QAAS,kBAAMM,GAAiB,IAFlC,mBAMA,oBACEL,UAAYI,EAA2B,GAAX,SAC5BL,QAAS,kBAAMM,GAAiB,IAFlC,uBAODD,EACC,uBAAMuB,SAAUnB,EAAcR,UAAU,YAAxC,UACE,uBACEA,UAAU,iBACV4B,YAAY,WACZC,KAAK,SAEP,uBACE7B,UAAU,iBACV4B,YAAY,WACZC,KAAK,aAEP,wBAAQ7B,UAAU,aAAlB,uBAGF,uBAAM2B,SAAUH,EAAexB,UAAU,YAAzC,UACE,uBACEA,UAAU,iBACV4B,YAAY,WACZC,KAAK,SAEP,uBAAO7B,UAAU,cAAc4B,YAAY,QAAQC,KAAK,UACxD,uBACE7B,UAAU,iBACV4B,YAAY,WACZC,KAAK,aAEP,wBAAQ7B,UAAU,aAAlB,gCChFG8B,EAfE,SAAC,GAGX,IAFHnC,EAEE,EAFFA,gBACAO,EACE,EADFA,YAEA,OAAO,cAAC,EAAD,CACPP,gBACIA,EAEJO,YACIA,K,QCkEO6B,G,MA1EG,SAAC,GAAiE,IAAhEV,EAA+D,EAA/DA,MAAOW,EAAwD,EAAxDA,MAAOC,EAAiD,EAAjDA,kBAAmBC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,eAAoB,EAE/ChC,mBAAS,IAFsC,mBAE1EiC,EAF0E,KAE/DC,EAF+D,KAS3EC,EAAY,uCAAG,WAAO7B,GAAP,eAAAC,EAAA,yDACnBD,EAAME,iBACY,KAAdyB,EAFe,yCAGVd,MAAM,+BAHI,gCAOYN,IAAMC,KACjC,sCACA,CAEEsB,KAAM,QACNC,SAAUJ,EACVK,WAAW,GAEb,CACEC,QAAS,CACPC,cAAc,UAAD,OAAYtB,MAjBd,OAOXuB,EAPW,OAqBjBC,QAAQC,IAAIF,GACZV,EAAS,GAAD,mBACHF,GADG,CAEN,CAEEQ,SAAUJ,EACVK,WAAW,EACXM,IAAKH,EAAexB,KAAKA,KAAK2B,QAGlCV,EAAa,IA/BI,kDAiCjBQ,QAAQC,IAAI,KAAM5B,UAjCD,0DAAH,sDAqClB,OACE,sBAAKlB,UAAU,iBAAf,UACE,oBAAIA,UAAU,QAAd,uBACA,uBAAMA,UAAU,WAAWgD,OAAO,GAAGrB,SAAUW,EAA/C,UACE,uBACEW,SAAU,SAACC,GAAD,OAAOb,EAAaa,EAAErC,OAAOC,QACvCc,YAAY,iBACZd,MAAOsB,EACPP,KAAK,SAEP,wBAAQA,KAAK,SAAb,SACE,mBAAG7B,UAAU,kBAEf,sBAAKA,UAAU,aAAf,UACE,mBAAGA,UAAU,qBACb,yBACEiD,SAzDa,SAACxC,GACtBwB,EAAkBxB,EAAMI,OAAOC,QAyDvBA,MAAOqB,EAFT,UAIE,wBAAQrB,MAAM,MAAd,kBACA,wBAAQA,MAAM,WAAd,uBACA,wBAAQA,MAAM,aAAd,uC,QCSGqC,G,MA5EF,SAAC,GAAoC,IAAnC9B,EAAkC,EAAlCA,MAAO+B,EAA2B,EAA3BA,KAAMpB,EAAqB,EAArBA,MAAOE,EAAc,EAAdA,SAC3BmB,EAAa,uCAAG,4BAAA3C,EAAA,+EAEWM,IAAMsC,OAAN,6CACWF,EAAKL,KAC3C,CACEL,QAAS,CACPC,cAAc,UAAD,OAAYtB,MANb,OAEZkC,EAFY,OAUlBrB,EACEF,EAAMwB,QACJ,SAACC,GAAD,OAAQA,EAAGV,MAAQK,EAAKL,QAG5BF,QAAQC,IAAIS,GAfM,yEAiBXjC,MAAM,KAAMJ,WAjBD,yDAAH,qDAsBbwC,EAAe,uCAAG,4BAAAhD,EAAA,+EAEWM,IAAM2C,MAAN,6CACSP,EAAKL,KAC3C,CACEN,WAAYW,EAAKX,WAEnB,CACEC,QAAS,CACPC,cAAc,UAAD,OAAYtB,MATX,OAEduC,EAFc,OAapBf,QAAQC,IAAIc,GAEZ1B,EACEF,EAAM6B,KAAI,SAACC,GACT,OAAIA,EAAKf,MAAQK,EAAKL,IACb,2BACFe,GADL,IAEErB,WAAYqB,EAAKrB,YAGdqB,MAvBS,gDA2BpBjB,QAAQC,IAAI,KAAM5B,UA3BE,yDAAH,qDA+BrB,OACE,qBAAKlB,UAAU,YAAf,SACE,6BACE,+BACE,sBAAMA,UAAS,oBAAeoD,EAAKX,UAAY,YAAc,IAA7D,SACGW,EAAKZ,WAER,iCACE,wBAAQxC,UAAU,eAAeD,QAAU2D,EAA3C,SACE,mBAAG1D,UAAU,mBAEf,wBAAQA,UAAU,aAAaD,QAAUsD,EAAzC,SACE,mBAAGrD,UAAU,mCCjDZ+D,EAlBE,SAAC,GAA+C,IAA7C1C,EAA4C,EAA5CA,MAAOW,EAAqC,EAArCA,MAAOgC,EAA8B,EAA9BA,cAAe9B,EAAe,EAAfA,SAC/C,OACE,8BACG8B,EAAcH,KAAI,SAACT,GAClB,OACE,cAAC,EAAD,CACE/B,MAAOA,EACP+B,KAAMA,EACNpB,MAAOA,EACPE,SAAUA,GACLkB,EAAKL,WCqFPkB,EA5FK,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,YAAiB,EAEX/D,mBAAS,IAFE,mBAE9B6B,EAF8B,KAEvBE,EAFuB,OAGK/B,mBAAS,IAHd,mBAG9B6D,EAH8B,KAGfG,EAHe,OAIOhE,mBAAS,OAJhB,mBAI9BiE,EAJ8B,KAIdnC,EAJc,KAO/BZ,GADU,IAAId,KACE8D,IAAI,SAG1BC,qBAAU,YACS,uCAAG,4BAAA5D,EAAA,+EAEOM,IAAMqD,IAC3B,wCACA,CACE3B,QAAS,CACPC,cAAc,UAAD,OAAYtB,MANf,OAEVkD,EAFU,OAUhB1B,QAAQC,IAAIyB,EAASnD,KAAKA,KAAKoD,IAAI3E,UACnCqE,EAAYK,EAASnD,KAAKA,KAAKoD,IAAI3E,UACnC4E,IAZgB,gDAchB5B,QAAQC,IAAI,KAAM5B,UAdF,yDAAH,qDAiBjBwD,KAGC,IAEH,IAAMD,EAAQ,uCAAG,4BAAA/D,EAAA,sEACSM,IAAMqD,IAAI,qCAAsC,CACtE3B,QAAS,CACPC,cAAc,UAAD,OAAYtB,MAHd,OACTsD,EADS,OAMf9B,QAAQC,IAAI6B,GACZzC,EAASyC,EAAUvD,KAAKY,OAPT,2CAAH,qDAWdsC,qBAAU,WACRM,MAGC,CAAC5C,EAAOoC,IAEX,IAAMQ,EAAsB,WAC1B,OAAQR,GACN,IAAK,WACHD,EACEnC,EAAMwB,QACJ,SAACM,GAAD,OAA6B,IAAnBA,EAAKrB,cAGnB,MACF,IAAK,aACH0B,EACEnC,EAAMwB,QACJ,SAACM,GAAD,OAA6B,IAAnBA,EAAKrB,cAGnB,MACF,QACE0B,EAAiBnC,KAKvB,OACE,gCACE,cAAC,EAAD,CACEX,MAAOA,EACPW,MAAOA,EACPC,kBAAmBA,EACnBC,SAAUA,EACVC,eAAgBiC,IAElB,cAAC,EAAD,CACE/C,MAAOA,EACPW,MAAOA,EACPgC,cAAeA,EACf9B,SAAUA,QC/EH2C,EATM,SAAC,GAEf,IADHX,EACE,EADFA,YAEA,OAAO,cAAC,EAAD,CAAaA,YAChBA,KCOOY,EAZE,WACb,OAAO,sBAAK9E,UAAU,YAAf,UACH,sBAAMA,UAAU,eAAhB,sCAGA,qBAAKA,UAAU,cAAf,0CAGA,sBAAKA,UAAU,cAAf,sCAAsD,mBAAG+E,KAAK,sDAAR,0BAAtD,WCQOC,EAdQ,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,SAGtB,OAH0C,EAAVC,KAIrB,eAAC,IAAD,eAASD,KAIT,cAAC,IAAD,CAAUnF,GAAG,WC0DbqF,G,MA3DH,WAAM,MAE8BhF,oBAAS,GAFvC,mBAETR,EAFS,KAEQyF,EAFR,OAGgBjF,mBAAS,IAHzB,mBAGTN,EAHS,KAGCqE,EAHD,KAKVmB,EAAS,IAAI9E,IAGnB+D,qBAAU,WAEWe,EAAOhB,IAAI,SACjBnE,IAAgBN,MAG5B,IAKH,IAAMM,EAAc,WAClBkF,GAAmB,IAGfxF,EAAgB,WACpBwF,GAAmB,GACnBC,EAAOC,OAAO,UAMhB,OACE,qCACE,cAAC,EAAD,CACE3F,gBAAiBA,EACjBC,cAAeA,EACfC,SAAUA,IAEZ,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0F,KAAK,IAAIC,OAAK,EAACC,UAAWX,IACjC,cAAC,IAAD,CAAOS,KAAK,QAAZ,SACE,cAAC,EAAD,CACE5F,gBAAiBA,EACjBO,YAAaA,MAIjB,cAACwF,EAAD,CACER,KAAMvF,EACN4F,KAAK,YAFP,SAII,cAAC,EAAD,CAAcrB,YAAaA,cCzDvCyB,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACI,cAAC,EAAD,QAGRC,SAASC,cAAc,Y","file":"static/js/main.73c354ff.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Nav.css\";\n\nconst Nav = ({ isAuthenticated, logoutHandler, username }) => {\n  return (\n    <nav>\n      <ul>\n        <li>\n          <Link to=\"/\"> Home page</Link>\n        </li>\n        {isAuthenticated ? (\n          <>\n            <li>\n              <Link onClick={logoutHandler} to=\"/auth\">\n                {\" \"}\n                Log out\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/todolist\"> My TodoList</Link>\n            </li>\n          </>\n        ) : (\n          <li>\n            <Link to=\"/auth\"> Login / Sign Up</Link>\n          </li>\n        )}\n        {isAuthenticated ? (\n          <li className=\"welcome\">\n            {\" \"}\n            Hello<span className=\"username\"> {username}</span>{\" \"}\n          </li>\n        ) : null}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./Auth.css\";\nimport { Redirect } from \"react-router-dom\";\nimport Cookies from \"universal-cookie\";\n\nconst Auth = ({isAuthenticated, authHandler}) => {\n  // states\n  const [loginFormShow, setLoginFormShow] = useState(true);\n\n  const cookies = new Cookies();\n\n  const loginHandler = async (event) => {\n    event.preventDefault();\n    const loginData = {\n      username: event.target[0].value,\n      password: event.target[1].value,\n    };\n    try {\n      const response = await axios.post(\n        \"http://localhost:8000/api/v1/users/login/\",\n        loginData\n      );\n      cookies.set(\"token\", response.data.token);\n      authHandler();\n    } catch (error) {\n      return alert(error.response.data.message);\n    }\n  };\n\n  const signupHandler = async (event) => {\n    event.preventDefault();\n    const signupData = {\n      username: event.target[0].value,\n      email: event.target[1].value,\n      password: event.target[2].value,\n    };\n    try {\n      const response = await axios.post(\n        \"http://localhost:8000/api/v1/users/signup/\",\n        signupData\n      );\n      cookies.set(\"token\", response.data.token);\n      authHandler(); //run after catch()\n    } catch (error) {\n      return alert(error.response.data.message);\n    }\n  };\n\n\n    if (isAuthenticated) {\n      return <Redirect to=\"/todoList\" />;\n    }\n  return (\n    <div className=\"auth\">\n      <h1 className=\"title\">Log In or Sign Up</h1>\n      <div className=\"auth-container\">\n        <div className=\"toggle\">\n          <h2\n            className={loginFormShow ? \"active\" : \"\"}\n            onClick={() => setLoginFormShow(true) }\n          >\n            LogIn\n          </h2>\n          <h2\n            className={!loginFormShow ? \"active\" : \"\"}\n            onClick={() => setLoginFormShow(false) }\n          >\n            SignUp\n          </h2>\n        </div>\n        {loginFormShow ? (\n          <form onSubmit={loginHandler} className=\"auth-form\">\n            <input\n              className=\"username-input\"\n              placeholder=\"username\"\n              type=\"text\"\n            />\n            <input\n              className=\"password-input\"\n              placeholder=\"password\"\n              type=\"password\"\n            />\n            <button className=\"submit-btn\">Log in</button>\n          </form>\n        ) : (\n          <form onSubmit={signupHandler} className=\"auth-form\">\n            <input\n              className=\"username-input\"\n              placeholder=\"username\"\n              type=\"text\"\n            />\n            <input className=\"email-input\" placeholder=\"email\" type=\"email\" />\n            <input\n              className=\"password-input\"\n              placeholder=\"password\"\n              type=\"password\"\n            />\n            <button className=\"submit-btn\">Register</button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n\n}\n\nexport default Auth;\n","import React from 'react';\nimport Auth from '../components/Auth';\n\nconst AuthPage = ({\n    isAuthenticated,\n    authHandler\n}) => {\n    return <Auth\n    isAuthenticated = {\n        isAuthenticated\n    }\n    authHandler = {\n        authHandler\n    }\n    />\n\n};\n\nexport default AuthPage;","import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport \"./TaskAdder.css\";\n\nconst TaskAdder = ({token, todos, setSelectedOption, setTodos, selectedFilter}) => {\n  // states\n  const [taskInput, setTaskInput] = useState('');\n  \n  //event handler\n  const onSelectChange = (event) => {\n    setSelectedOption(event.target.value);\n  };\n\n  const onFormSubmit = async (event) => {\n    event.preventDefault();\n    if (taskInput === \"\") {\n      return alert(\"Nothing has been submited!\");\n    }\n    //this function get the new todos and add them to the previous ones\n    try {\n      const addingTodoData = await axios.post(\n        \"http://localhost:8000/api/v1/todos/\",\n        {\n          //to server\n          name: \"todos\",\n          TodoText: taskInput,\n          isChecked: false,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`, //means the header have token\n          },\n        }\n      );\n      console.log(addingTodoData);\n      setTodos([\n        ...todos,\n        {\n          //not going to server\n          TodoText: taskInput,\n          isChecked: false,\n          _id: addingTodoData.data.data._id,\n        },\n      ]);\n      setTaskInput(\"\");\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  return (\n    <div className=\"todo-container\">\n      <h1 className=\"title\">Todo List</h1>\n      <form className=\"add-form\" action=\"\" onSubmit={onFormSubmit}>\n        <input\n          onChange={(e) => setTaskInput(e.target.value)}\n          placeholder=\"add task to do\"\n          value={taskInput}\n          type=\"text\"\n        />\n        <button type=\"submit\">\n          <i className=\"fas fa-plus\"></i>\n        </button>\n        <div className=\"filter-bar\">\n          <i className=\"fas fa-sort-down\"></i>\n          <select\n            onChange={onSelectChange}\n            value={selectedFilter}\n          >\n            <option value=\"all\"> All</option>\n            <option value=\"finished\"> Finished</option>\n            <option value=\"unfinished\"> Unfinished</option>\n          </select>\n        </div>\n      </form>\n    </div>\n  ); \n}\nexport default TaskAdder;\n","import React from \"react\";\nimport \"./Todo.css\";\nimport axios from \"axios\";\n\nconst Todo = ({token, todo, todos, setTodos}) => {\n  const deleteHandler = async () => {\n    try {\n      const deleteTodoData = await axios.delete(\n        `http://localhost:8000/api/v1/todos/${todo._id}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      setTodos(\n        todos.filter(\n          (el) => el._id !== todo._id //*return\n        )\n      );\n      console.log(deleteTodoData);\n    } catch (error) {\n      return alert(error.response);\n    }\n  };\n\n  //* put=replace , patch=modify (patch is for minor edits like attributes)\n  const completeHandler = async () => {\n    try {\n      const completeTodoData = await axios.patch(\n        `http://localhost:8000/api/v1/todos/${todo._id}`,\n        {\n          isChecked: !todo.isChecked,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log(completeTodoData);\n\n      setTodos(\n        todos.map((task) => {\n          if (task._id === todo._id) {\n            return {\n              ...task, //* spread\n              isChecked: !task.isChecked,\n            };\n          }\n          return task;\n        })\n      );\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  return (\n    <div className=\"todo-list\">\n      <ul>\n        <li>\n          <span className={`task-name ${todo.isChecked ? \"completed\" : \"\"}`}>\n            {todo.TodoText}\n          </span>\n          <span>\n            <button className=\"complete-btn\" onClick={ completeHandler}>\n              <i className=\"fas fa-check\"></i>\n            </button>\n            <button className=\"delete-btn\" onClick={ deleteHandler}>\n              <i className=\"fas fa-trash-alt\"></i>\n            </button>\n          </span>\n        </li>\n      </ul>\n    </div>\n  );\n\n}\n\nexport default Todo;\n","import React from \"react\";\nimport Todo from \"./Todo\";\n\nconst TodoList = ({ token, todos, filteredTodos, setTodos }) => {\n  return (\n    <div>\n      {filteredTodos.map((todo) => {\n        return (\n          <Todo\n            token={token}\n            todo={todo}\n            todos={todos}\n            setTodos={setTodos}\n            key={todo._id}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default TodoList;\n","import React, { useState, useEffect } from \"react\";\nimport TaskAdder from \"./TaskAdder\";\nimport TodoList from \"./TodoList\";\nimport Cookies from \"universal-cookie\";\nimport axios from \"axios\";\n\nconst TodoListApp = ({setUsername}) => {\n  // states\n  const [todos, setTodos] = useState([]);\n  const [filteredTodos, setFilteredTodos] = useState([]);\n  const [selectedOption, setSelectedOption] = useState('all');\n\n  const cookies = new Cookies();\n  const token = cookies.get(\"token\");\n\n  // componentDidMount\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const userData = await axios.get(\n          \"http://localhost:8000/api/v1/users/me\",\n          {\n            headers: {\n              Authorization: `Bearer ${token}`, //means the header have token\n            },\n          }\n        ); //to be sure token is ok\n        console.log(userData.data.data.doc.username);\n        setUsername(userData.data.data.doc.username);\n        getTodos();\n      } catch (error) {\n        console.log(error.response);\n      }\n    }\n    getUserData();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getTodos = async () => {\n    const userTodos = await axios.get(\"http://localhost:8000/api/v1/todos\", {\n      headers: {\n        Authorization: `Bearer ${token}`, //means the header have token\n      },\n    });\n    console.log(userTodos);\n    setTodos(userTodos.data.todos);\n  };\n\n  // componentDidUpdate(prevProps, prevState, snapShot)\n  useEffect(() => {\n    filterOptionHandler();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [todos, selectedOption]);  //! initial render and run if the data change\n\n  const filterOptionHandler = () => {\n    switch (selectedOption) {\n      case \"finished\":\n        setFilteredTodos(\n          todos.filter(\n            (task) => task.isChecked === true\n            ),\n          );\n        break;\n      case \"unfinished\":\n        setFilteredTodos(\n          todos.filter(\n            (task) => task.isChecked === false\n          ),\n        );\n        break;\n      default:\n        setFilteredTodos(todos);\n        break;\n    }\n  };\n\n  return (\n    <div>\n      <TaskAdder\n        token={token}\n        todos={todos}\n        setSelectedOption={setSelectedOption}\n        setTodos={setTodos}\n        selectedFilter={selectedOption}\n      />\n      <TodoList\n        token={token}\n        todos={todos}\n        filteredTodos={filteredTodos}\n        setTodos={setTodos}\n      />\n    </div>\n  );\n\n}\n\nexport default TodoListApp;\n","import React from 'react';\nimport TodoListApp from '../components/TodoListApp';\n\nconst TodoListPage = ({\n    setUsername\n}) => {\n    return <TodoListApp setUsername = {\n        setUsername\n    }\n    />;\n};\n\nexport default TodoListPage;","import React from 'react';\n\nconst HomePage = () => {\n    return <div className=\"home-page\">\n        <span className=\"welcome-home\">\n            Welcome to ToDo List App\n        </span>\n        <div className=\"description\">\n            An app to manage your tasks.\n        </div>\n        <div className='description'>Developed And Created By <a href=\"https://www.linkedin.com/in/shyam-kuntal-8762971a0/\">Shyam Kuntal</a> </div>\n    </div>\n};\n\nexport default HomePage;\n\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n//Redirect works like Link to change routes (logical level)\n\nconst ProtectedReact = ({ children, auth}) => {\n    // const history = useHistory();\n\n    if(auth) {\n        return <Route> {children}</Route>\n        // return history.push('/todoListPage');\n    }\n    else {\n        return <Redirect to=\"/auth\" />\n        // return history.push('/auth');\n    }\n    //* or in functional base write a function using useHistory\n};\n\nexport default ProtectedReact;","import React, { useState, useEffect } from 'react';  //*useEffect for lifecycle methods\nimport { Route, Switch } from 'react-router-dom';\nimport Nav from './components/Nav';\nimport AuthPage from './pages/AuthPage';\nimport TodoListPage from './pages/TodoListPage';\nimport HomePage from './pages/HomePage';\nimport ProtectedRoute from './ProtectedRoute';\nimport Cookies from 'universal-cookie';\n\nimport './App.css';\n\nconst App = () => {\n  //states\n  const [isAuthenticated, setIsAuthenticated] = useState(false);  //function setState hame be pre state hame be state dastresi darim\n  const [username, setUsername] = useState('');\n\n  const cookie = new Cookies();\n  \n  // componentDidMount\n  useEffect(() => {\n    // console.log('runned1');\n    const authCookie = cookie.get('token');\n    authCookie ? authHandler() : logoutHandler();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); \n  //! [] --> initial render\n  //! nothing --> inotial render and run after every rerender\n  //! [data] --> initial render and run if the data change\n\n  const authHandler = () => {\n    setIsAuthenticated(true);\n  };\n    \n  const logoutHandler = () => {\n    setIsAuthenticated(false);\n    cookie.remove('token');\n  };\n  // const usernameHandler = (term) => { //! setUsername\n  //   setState({ username: term });\n  // }\n\n  return (\n    <>\n      <Nav \n        isAuthenticated={isAuthenticated}\n        logoutHandler={logoutHandler}\n        username={username}\n      />\n      <Switch>\n        <Route path='/' exact component={HomePage} />\n        <Route path='/auth'>\n          <AuthPage\n            isAuthenticated={isAuthenticated}\n            authHandler={authHandler} \n          />\n          </Route> \n            \n        <ProtectedRoute\n          auth={isAuthenticated}\n          path='/todolist'\n        >\n            <TodoListPage setUsername={setUsername} /> \n        </ProtectedRoute>\n        {/*age mese balayi bashe byd to ProtectedRoute ...rest ezafe koni*/}\n      </Switch>\n    </>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.querySelector('#root')\n);\n"],"sourceRoot":""}